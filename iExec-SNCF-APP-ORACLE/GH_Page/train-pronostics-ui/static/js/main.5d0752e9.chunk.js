(this["webpackJsonp@trainpronostics/react-app"]=this["webpackJsonp@trainpronostics/react-app"]||[]).push([[0],{1002:function(e,t){},1004:function(e,t){},1011:function(e,t){},1023:function(e,t){},1188:function(e,t){},1198:function(e,t){},1228:function(e,t){},1263:function(e,t,a){var n={"./TrainBetting.address.js":1264};function r(e){var t=f(e);return a(t)}function f(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=f,e.exports=r,r.id=1263},1264:function(e,t){e.exports="0x2eF1C37C0D6e6FcA7674f4D6fE0C854299F9579f"},1265:function(e,t){e.exports=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{internalType:"uint8",name:"_betSelection",type:"uint8"}],name:"bet",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"player",type:"address"}],name:"checkPlayerExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"departureTime",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"distributePrizes",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getAmountBetsOnLate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getAmountBetsOnTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getDepartureTime",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getNumberOfPlayers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"getOracleData",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getStatus",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTrainStatus",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minimumBet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"playerInfo",outputs:[{internalType:"uint256",name:"amountBet",type:"uint256"},{internalType:"uint16",name:"betSelection",type:"uint16"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"players",outputs:[{internalType:"address payable",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_trainstatus",type:"string"}],name:"setTrainStatus",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"status",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBetsOnLate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBetsOnTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"trainstatus",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"updatedate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},1266:function(e,t){e.exports="0x60806040526004361061011f5760003560e01c8063724d8a7f116100a0578063c38a8afd11610064578063c38a8afd14610717578063d0821b0e14610742578063f6097f5a14610773578063f71d96cb14610803578063fd6673f51461087e5761011f565b8063724d8a7f146105255780637ce52eb6146105b5578063970aba03146105cc578063b2cad0491461065c578063baa20d35146106875761011f565b80634081d916116100e75780634081d916146102605780634b114691146102c95780634e69d5601461033d5780636481c5e6146103cd5780636642e6431461045d5761011f565b806301e51db414610124578063200d2ed21461014f5780632473890a146101df578063330deac41461020a578063369adbd914610235575b600080fd5b34801561013057600080fd5b506101396108a9565b6040518082815260200191505060405180910390f35b34801561015b57600080fd5b506101646108af565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101a4578082015181840152602081019050610189565b50505050905090810190601f1680156101d15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156101eb57600080fd5b506101f461094d565b6040518082815260200191505060405180910390f35b34801561021657600080fd5b5061021f610957565b6040518082815260200191505060405180910390f35b34801561024157600080fd5b5061024a61095d565b6040518082815260200191505060405180910390f35b34801561026c57600080fd5b506102af6004803603602081101561028357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610963565b604051808215151515815260200191505060405180910390f35b3480156102d557600080fd5b50610318600480360360208110156102ec57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610a05565b604051808381526020018261ffff1661ffff1681526020019250505060405180910390f35b34801561034957600080fd5b50610352610a37565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610392578082015181840152602081019050610377565b50505050905090810190601f1680156103bf5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156103d957600080fd5b506103e2610ad9565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610422578082015181840152602081019050610407565b50505050905090810190601f16801561044f5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561046957600080fd5b506105236004803603602081101561048057600080fd5b810190808035906020019064010000000081111561049d57600080fd5b8201836020820111156104af57600080fd5b803590602001918460018302840111640100000000831117156104d157600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610cf5565b005b34801561053157600080fd5b5061053a610ec0565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561057a57808201518184015260208101905061055f565b50505050905090810190601f1680156105a75780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156105c157600080fd5b506105ca610f5e565b005b3480156105d857600080fd5b506105e1611701565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610621578082015181840152602081019050610606565b50505050905090810190601f16801561064e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561066857600080fd5b506106716117a3565b6040518082815260200191505060405180910390f35b34801561069357600080fd5b5061069c6117ad565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156106dc5780820151818401526020810190506106c1565b50505050905090810190601f1680156107095780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561072357600080fd5b5061072c61184f565b6040518082815260200191505060405180910390f35b6107716004803603602081101561075857600080fd5b81019080803560ff169060200190929190505050611855565b005b34801561077f57600080fd5b50610788611a6e565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156107c85780820151818401526020810190506107ad565b50505050905090810190601f1680156107f55780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561080f57600080fd5b5061083c6004803603602081101561082657600080fd5b8101908080359060200190929190505050611b0c565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561088a57600080fd5b50610893611b48565b6040518082815260200191505060405180910390f35b60055481565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109455780601f1061091a57610100808354040283529160200191610945565b820191906000526020600020905b81548152906001019060200180831161092857829003601f168201915b505050505081565b6000600554905090565b60005481565b60065481565b600080600090505b6007805490508110156109fa578273ffffffffffffffffffffffffffffffffffffffff166007828154811061099c57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156109ed576001915050610a00565b808060010191505061096b565b50600090505b919050565b60086020528060005260406000206000915090508060000154908060010160009054906101000a900461ffff16905082565b606060018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610acf5780601f10610aa457610100808354040283529160200191610acf565b820191906000526020600020905b815481529060010190602001808311610ab257829003601f168201915b5050505050905090565b606060007fbbf690b1a5ea1d30d6bf860ec403e2fbeaa069e91ac759bbcb58856655be38d460001b90506000738eceddd1377e52d23a46e2bd3df0afe35b526d5f90506000819050606060008273ffffffffffffffffffffffffffffffffffffffff1663986e791a866040518263ffffffff1660e01b81526004018082815260200191505060006040518083038186803b158015610b7657600080fd5b505afa158015610b8a573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052506040811015610bb457600080fd5b8101908080516040519392919084640100000000821115610bd457600080fd5b83820191506020820185811115610bea57600080fd5b8251866001820283011164010000000082111715610c0757600080fd5b8083526020830192505050908051906020019080838360005b83811015610c3b578082015181840152602081019050610c20565b50505050905090810190601f168015610c685780820380516001836020036101000a031916815260200191505b5060405260200180519060200190929190505050915091508160049080519060200190610c96929190611b55565b506040518060400160405280600681526020017f616374697665000000000000000000000000000000000000000000000000000081525060019080519060200190610ce2929190611b55565b5080600081905550819550505050505090565b6040518060400160405280600581526020017f64656c61790000000000000000000000000000000000000000000000000000008152508051906020012081805190602001201415610dd9576040518060400160405280600581526020017f636c6f736500000000000000000000000000000000000000000000000000000081525060019080519060200190610d8b929190611b55565b506040518060400160405280600781526020017f64656c617965640000000000000000000000000000000000000000000000000081525060029080519060200190610dd7929190611b55565b505b6040518060400160405280600681526020017f61727269766500000000000000000000000000000000000000000000000000008152508051906020012081805190602001201415610ebd576040518060400160405280600581526020017f636c6f736500000000000000000000000000000000000000000000000000000081525060019080519060200190610e6f929190611b55565b506040518060400160405280600781526020017f6f6e2074696d650000000000000000000000000000000000000000000000000081525060029080519060200190610ebb929190611b55565b505b50565b60048054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610f565780601f10610f2b57610100808354040283529160200191610f56565b820191906000526020600020905b815481529060010190602001808311610f3957829003601f168201915b505050505081565b6040518060400160405280600681526020017f61637469766500000000000000000000000000000000000000000000000000008152506040516020018082805190602001908083835b60208310610fca5780518252602082019150602081019050602083039250610fa7565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405160208183030381529060405280519060200120600160405160200180828054600181600116156101000203166002900480156110655780601f10611043576101008083540402835291820191611065565b820191906000526020600020905b815481529060010190602001808311611051575b50509150506040516020818303038152906040528051906020012014156110f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4a6f75726e6579205374696c6c2041637469766500000000000000000000000081525060200191505060405180910390fd5b60006040518060400160405280600581526020017f636c6f73650000000000000000000000000000000000000000000000000000008152506040516020018082805190602001908083835b60208310611162578051825260208201915060208101905060208303925061113f565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405160208183030381529060405280519060200120600160405160200180828054600181600116156101000203166002900480156111fd5780601f106111db5761010080835404028352918201916111fd565b820191906000526020600020905b8154815290600101906020018083116111e9575b50509150506040516020818303038152906040528051906020012014801561134457506040518060400160405280600781526020017f6f6e2074696d65000000000000000000000000000000000000000000000000008152506040516020018082805190602001908083835b6020831061128c5780518252602082019150602081019050602083039250611269565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405160208183030381529060405280519060200120600260405160200180828054600181600116156101000203166002900480156113275780601f10611305576101008083540402835291820191611327565b820191906000526020600020905b815481529060010190602001808311611313575b505091505060405160208183030381529060405280519060200120145b156113525760019050611357565b600290505b61135f611bd5565b600080905060008090506000809050600080905060008090505b60078054905081101561147b576007818154811061139357fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691508661ffff16600860008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160009054906101000a900461ffff1661ffff16141561146e578186866103e8811061142e57fe5b602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505084806001019550505b8080600101915050611379565b5060018661ffff16141561149857600654925060055491506114a3565b600554925060065491505b60008090505b848110156115d957600073ffffffffffffffffffffffffffffffffffffffff1686826103e881106114d657fe5b602002015173ffffffffffffffffffffffffffffffffffffffff16146115cc57600086826103e8811061150557fe5b602002015190506000600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000154905087836103e8811061156057fe5b602002015173ffffffffffffffffffffffffffffffffffffffff166108fc612710876127108a028161158e57fe5b046127100184028161159c57fe5b049081150290604051600060405180830381858888f193505050501580156115c8573d6000803e3d6000fd5b5050505b80806001019150506114a9565b5060008090505b6007805490508110156116905760086000600783815481106115fe57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000808201600090556001820160006101000a81549061ffff0219169055505080806001019150506115e0565b5060006040519080825280602002602001820160405280156116c15781602001602082028038833980820191505090505b50600790805190602001906116d7929190611bf9565b506000925060009150600060058190555060006006819055506116f8610ad9565b50505050505050565b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117995780601f1061176e57610100808354040283529160200191611799565b820191906000526020600020905b81548152906001019060200180831161177c57829003601f168201915b5050505050905090565b6000600654905090565b606060028054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156118455780601f1061181a57610100808354040283529160200191611845565b820191906000526020600020905b81548152906001019060200180831161182857829003601f168201915b5050505050905090565b60035481565b61185e33610963565b156118d1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f706c61796572206578697374000000000000000000000000000000000000000081525060200191505060405180910390fd5b60035434101561192c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526027815260200180611cec6027913960400191505060405180910390fd5b34600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600001819055508060ff16600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160006101000a81548161ffff021916908361ffff16021790555060073390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505060018160ff161415611a5a5734600560008282540192505081905550611a6b565b346006600082825401925050819055505b50565b60028054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611b045780601f10611ad957610100808354040283529160200191611b04565b820191906000526020600020905b815481529060010190602001808311611ae757829003601f168201915b505050505081565b60078181548110611b1957fe5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600780549050905090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611b9657805160ff1916838001178555611bc4565b82800160010185558215611bc4579182015b82811115611bc3578251825591602001919060010190611ba8565b5b509050611bd19190611c83565b5090565b60405180617d0001604052806103e890602082028038833980820191505090505090565b828054828255906000526020600020908101928215611c72579160200282015b82811115611c715782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190611c19565b5b509050611c7f9190611ca8565b5090565b611ca591905b80821115611ca1576000816000905550600101611c89565b5090565b90565b611ce891905b80821115611ce457600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550600101611cae565b5090565b9056fe56616c7565206d757374206265206d6f7265207468616e20746865206d696e696d756d20626574a265627a7a7231582081a88dd8a956bedef38ade6f29c1a6afc98c665d25f3778848a1944a36f3095964736f6c63430005100032"},1267:function(e,t){e.exports=["TrainBetting"]},1303:function(e,t,a){"use strict";const{IExec:n}=a(668),{Web3Provider:r}=a(59).providers,{createOracle:f,updateOracle:o,readOracle:i}=a(700);e.exports=class{constructor(e){let t,{ipfsGateway:a,oracleApp:s,oracleContract:c,iexecOptions:l={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t=new n({ethProvider:e},{confirms:3,...l})}catch(u){throw Error("Unsupported ethProvider")}const d=e.provider||new r(e);this.createOracle=e=>f({rawParams:e,iexec:t,ipfsGateway:a,oracleApp:s}),this.updateOracle=function(e){let{workerpool:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({paramSetOrCid:e,iexec:t,ipfsGateway:a,workerpool:n,oracleApp:s,oracleContract:c})},this.readOracle=async function(e){let{dataType:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i({paramSetOrCidOrOracleId:e,dataType:t,ethersProvider:d,ipfsGateway:a})},this.getIExec=()=>t}}},1319:function(e,t){},1465:function(e,t,a){"use strict";(function(t){const n=a(1466),r=a(701),f=a(854),{getLogger:o}=a(2166),{DEFAULT_IPFS_GATEWAY:i}=a(304),s=o("ipfs-service"),c=async function(e){let{ipfsGateway:a=i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="/ipfs/".concat(e.toString()),r="".concat(a).concat(n),o=await f(r);if(!o.ok)throw Error("Failed to load content from ".concat(r));const s=await o.arrayBuffer();return t.from(s)};e.exports={add:async function(e){let{ipfsGateway:t=i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=await n.create();try{const{cid:n}=await a.add(e);return await a.pin.add(n,{timeout:1e4}).catch(e=>s("Ipfs add pin failed",e)),await c(n.toString(),{ipfsGateway:t}),await a.stop(),n.toString()}catch(r){throw"function"===typeof a.stop&&await a.stop(),r}},get:c,isCid:e=>{try{const t=new r(e);return r.isCID(t)}catch(t){return!1}}}}).call(this,a(9).Buffer)},1508:function(e,t){},1528:function(e,t){},1683:function(e,t){},1760:function(e,t){},1762:function(e,t){},1950:function(e,t){},1955:function(e,t){},1970:function(e,t){},1972:function(e,t){},1993:function(e,t){},2031:function(e,t){},2121:function(e,t){},2164:function(e,t){},2166:function(e,t,a){"use strict";const n=a(11)("iexec-oracle-factory-wrapper");e.exports={getLogger:e=>n.extend(e)}},2168:function(e,t,a){"use strict";class n{constructor(e){this.destination=e}next(e){if(!this.isUnsubscribed&&this.destination.next)try{this.destination.next(e)}catch(t){throw this.unsubscribe(),t}}error(e){if(!this.isUnsubscribed&&this.destination.error){try{this.destination.error(e)}catch(t){throw this.unsubscribe(),t}this.unsubscribe()}}complete(){if(!this.isUnsubscribed&&this.destination.complete){try{this.destination.complete()}catch(e){throw this.unsubscribe(),e}this.unsubscribe()}}unsubscribe(){this.isUnsubscribed=!0,this.unsub&&this.unsub()}}e.exports={Observable:class{constructor(e){this._subscribe=e}subscribe(e){const t=new n(e);return this._subscribe(t)}},SafeObserver:n}},2169:function(e,t,a){"use strict";const{getSignerFromPrivateKey:n}=a(668).utils,{getParamSet:r}=a(700),f=a(858).computeOracleId,o=a(2170).testRawParams,{getDefaults:i,DEFAULT_IPFS_GATEWAY:s}=a(304);e.exports={computeOracleId:async function(e){let{ipfsGateway:t=s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{paramSet:a}=await r({paramSetOrCid:e,ipfsGateway:t}),n=await f(a);return n},testRawParams:o,getSignerFromPrivateKey:n,getChainDefaults:i}},2170:function(e,t,a){"use strict";const n=a(854),r=a(857),{rawParamsSchema:f}=a(525),{API_KEY_PLACEHOLDER:o}=a(304);e.exports={testRawParams:async e=>{const{url:t,method:a,headers:i,body:s,apiKey:c,JSONPath:l,dataType:d}=await f().validate(e),u=t.replace(o,c),p=Object.entries(i).map(e=>{let[t,a]=e;return[t,a.replace(o,c)]}).reduce((e,t)=>({...e,[t[0]]:t[1]}),{}),m=await n(u,{method:a,headers:p,...s&&{body:s}}).catch(e=>{throw Error("Failed get a response from the API (".concat(e,")\nYou can:\n- check your connection\n- check the API url\n- check the HTTP method\n- check the API allows CORS"))}),b="The API answered with status ".concat(m.status).concat(m.statusText?": ".concat(m.statusText):""),h=await m.json().catch(()=>{throw Error("".concat(b," but the response body format is not supported, it must be a JSON"))}),y=r.query(h,l);if(0===y.length)throw Error("".concat(b,' but JSONPath selector "').concat(l,'" returned empty result, it must return a single value:\n').concat(JSON.stringify(y,null,2)));if(y.length>1)throw Error("".concat(b,' but JSONPath selector "').concat(l,'" returned multiple results, it must return a single value:\n').concat(JSON.stringify(y,null,2)));const E=y[0],g=typeof E;switch(g){case"boolean":if("boolean"!==d)throw Error("".concat(b,' but JSONPath selector "').concat(l,'" returned a ').concat(g,', wich is NOT compatible with `dataType: "').concat(d,'"`,  use `dataType: "boolean"` to store ').concat(g));return E;case"string":if("string"!==d)throw Error("".concat(b,' but JSONPath selector "').concat(l,'" returned a ').concat(g,', wich is NOT compatible with `dataType: "').concat(d,'"`,  use `dataType: "string"` to store ').concat(g));return E;case"number":if("number"!==d)throw Error("".concat(b,' but JSONPath selector "').concat(l,'" returned a ').concat(g,', wich is NOT compatible with `dataType: "').concat(d,'"`,  use `dataType: "number"` to store ').concat(g));return E;default:throw Error("".concat(b,' but JSONPath selector "').concat(l,'" returned a ').concat(g,", it must be string, number or boolean:\n").concat(JSON.stringify(E,null,2)))}}}},2180:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),f=a(57),o=a.n(f),i=(a(903),a(904),a(534)),s=a(61),c=(a(905),a(101)),l=a(528),d=(a(906),a(2201)),u=a(203),p=a(2194),m=a(2200),b=a(2202),h=a(859),y=a.n(h),E=a(860),g=a.n(E),w=a(93),v=a(141);function S(e){const[t,r]=Object(n.useState)();return Object(n.useEffect)(()=>{!async function(){if("undefined"!==typeof e)try{let t,n;e&&"function"===typeof e.listAccounts&&(n=await e.listAccounts()),t=n&&n.length>0?e.getSigner():e;const f=a(1267).reduce((e,n)=>(e[n]=((e,t)=>{const n=new v.b(a(1263)(`./${e}.address.js`),a(654)(`./${e}.abi.js`),t);try{n.bytecode=a(655)(`./${e}.bytecode.js`)}catch(r){console.log(r)}return n})(n,t),e),{});r(f)}catch(t){console.log("ERROR LOADING CONTRACTS!!",t)}}()},[e]),t}var O=a(25);var A=a(864),T=a.n(A);a(307);const x="47354c4ae0f24d918a987cd667da4f15",N=e=>{for(let t in C)if(C[t].chainId===e)return C[t]},P="https://viviani.iex.ec",C={localhost:{name:"localhost",color:"#666666",chainId:31337,blockExplorer:"",rpcUrl:"http://"+window.location.hostname+":8545"},mainnet:{name:"mainnet",color:"#ff8b9e",chainId:1,rpcUrl:"https://mainnet.infura.io/v3/"+x,blockExplorer:"https://etherscan.io/"},kovan:{name:"kovan",color:"#7003DD",chainId:42,rpcUrl:"https://kovan.infura.io/v3/"+x,blockExplorer:"https://kovan.etherscan.io/",faucet:"https://gitter.im/kovan-testnet/faucet"},rinkeby:{name:"rinkeby",color:"#e0d068",chainId:4,rpcUrl:"https://rinkeby.infura.io/v3/"+x,faucet:"https://faucet.rinkeby.io/",blockExplorer:"https://rinkeby.etherscan.io/"},ropsten:{name:"ropsten",color:"#F60D09",chainId:3,faucet:"https://faucet.ropsten.be/",blockExplorer:"https://ropsten.etherscan.io/",rpcUrl:"https://ropsten.infura.io/v3/"+x},goerli:{name:"goerli",color:"#0975F6",chainId:5,faucet:"https://goerli-faucet.slock.it/",blockExplorer:"https://goerli.etherscan.io/",rpcUrl:"https://goerli.infura.io/v3/"+x},xdai:{name:"xdai",color:"#48a9a6",chainId:100,price:1,gasPrice:1e9,rpcUrl:"https://dai.poa.network",faucet:"https://xdai-faucet.top/",blockExplorer:"https://blockscout.com/poa/xdai/"},matic:{name:"matic",color:"#2bbdf7",chainId:137,price:1,gasPrice:1e9,rpcUrl:"https://rpc-mainnet.maticvigil.com",faucet:"https://faucet.matic.network/",blockExplorer:"https://explorer-mainnet.maticvigil.com//"},mumbai:{name:"mumbai",color:"#92D9FA",chainId:80001,price:1,gasPrice:1e9,rpcUrl:"https://rpc-mumbai.maticvigil.com",faucet:"https://faucet.matic.network/",blockExplorer:"https://mumbai-explorer.matic.today/"},iExecSidechain:{name:"iExec Test Sidechain",color:"#92D9FA",chainId:133,gasPrice:0,rpcUrl:"https://viviani.iex.ec",faucet:"https://faucet.iex.ec/viviani",blockExplorer:"https://explorer.iex.ec/viviani/"}};function k(e,t,a){const r=Object(n.useRef)();Object(n.useEffect)(()=>{r.current=e},[e]),Object(n.useEffect)(()=>{if(null!==t){const e=setInterval((function(){r.current()}),t);return()=>clearInterval(e)}},[t]),Object(n.useEffect)(()=>{e()},[a])}function I(e,t,a,r,f,o,i){let s=3e3;f?s=f:f||"number"!==typeof r||(s=r);const[c,l]=Object(n.useState)();return Object(n.useEffect)(()=>{"function"===typeof i&&setTimeout(i.bind(this,c),1)},[c,i]),k(async()=>{if(e&&e[t])try{let n;0,n=r&&r.length>0?await e[t][a](...r):await e[t][a](),o&&"function"===typeof o&&(n=o(n)),"FlightBetting"===t&&console.log("GOT VALUE",n),n!==c&&l(n)}catch(n){console.log("ContractReader Error",n,"ContractName: "+t,"FunctionName: "+a)}},s,e&&e[t]),c}var D=(e,t)=>{const[a,r]=Object(n.useState)(t),[f,o]=function(e,t){const[a,r]=Object(n.useState)(()=>{try{const a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.log(a),t}});return[a,t=>{try{const n=t instanceof Function?t(a):t;r(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(n){console.log(n)}}]}("ensCache_"+t);return Object(n.useEffect)(()=>{f&&f.timestamp>Date.now()?r(f.name):e&&(async(e,t)=>{try{const a=await e.lookupAddress(t),n=await e.resolveName(a);if(Object(O.a)(t)===Object(O.a)(n))return a}catch(a){}return 0})(e,t).then(e=>{e&&(r(e),o({timestamp:Date.now()+36e4,name:e}))})},[f,e,t,r,o]),a};a(527);var R=a(201),j=a.n(R),U=a(2193),F=a(2197),_=a(246);const{Text:L}=U.a;function M(e){const t=e.value||e.address,a=D(e.ensProvider,t),{currentTheme:n}=Object(_.b)();if(!t)return r.a.createElement("span",null,r.a.createElement(F.a,{avatar:!0,paragraph:{rows:1}}));let f=t.substr(0,6);a&&a.indexOf("0x")<0?f=a:"short"===e.size?f+="..."+t.substr(-4):"long"===e.size&&(f=t);const o=((e,t)=>`${t||"https://etherscan.io/"}address/${e}`)(t,e.blockExplorer);if(e.minimized)return r.a.createElement("span",{style:{verticalAlign:"middle"}},r.a.createElement("a",{style:{color:"light"===n?"#222222":"#ddd"},target:"_blank",href:o,rel:"noopener noreferrer"},r.a.createElement(j.a,{seed:t.toLowerCase(),size:8,scale:2})));let i;return i=e.onChange?r.a.createElement(L,{editable:{onChange:e.onChange},copyable:{text:t}},r.a.createElement("a",{style:{color:"light"===n?"#222222":"#ddd"},target:"_blank",href:o,rel:"noopener noreferrer"},f)):r.a.createElement(L,{copyable:{text:t}},r.a.createElement("a",{style:{color:"light"===n?"#222222":"#ddd"},target:"_blank",href:o,rel:"noopener noreferrer"},f)),r.a.createElement("span",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},r.a.createElement(j.a,{seed:t.toLowerCase(),size:8,scale:e.fontSize?e.fontSize/7:4})),r.a.createElement("span",{style:{verticalAlign:"middle",paddingLeft:5,fontSize:e.fontSize?e.fontSize:28}},i))}var z=a(56);function q(e){const[t,a]=Object(n.useState)(!0),[f,o]=Object(n.useState)();Object(w.b)(()=>{(async()=>{if(e.address&&e.provider)try{const t=await e.provider.getBalance(e.address);o(t)}catch(t){console.log(t)}})()},e.pollTime?e.pollTime:11999);let i=parseFloat("0.00"),s=f;if("undefined"!==typeof e.balance&&(s=e.balance),"undefined"!==typeof e.value&&(s=e.value),s){const e=Object(z.b)(s);parseFloat(e).toFixed(2),i=parseFloat(e)}let c=i.toFixed(4);const l=e.price||e.dollarMultiplier;return l&&t&&(c="$"+(i*l).toFixed(2)),r.a.createElement("span",{style:{verticalAlign:"middle",fontSize:e.size?e.size:24,padding:8,cursor:"pointer"},onClick:()=>{a(!t)}},c)}var B=a(2205),V=a(2204),J=a(2206),Y=a(2207),H=a(261),G=a(2198),K=a(2192),W=a(531),Q=a.n(W),Z=a(1),X=a(891),$=a(869);function ee(e,t,a){if("undefined"!==typeof e)return async t=>{const n=e.getSigner(),r=await e.getNetwork(),f={dappId:"0b58206a-f3c0-4701-a62f-73c7243e8c77",system:"ethereum",networkId:r.chainId,transactionHandler:e=>{console.log("HANDLE TX",e)}},o=Object($.a)(f);let i="";r.name&&r.chainId>1&&(i=r.name+".");let s="https://"+i+"etherscan.io/tx/";100===r.chainId&&(s="https://blockscout.com/poa/xdai/tx/");try{let e;if(t instanceof Promise?e=await t:(t.gasPrice||(t.gasPrice=0),t.gasLimit||(t.gasLimit=Object(Z.i)(12e4)),console.log("RUNNING TX",t),e=await n.sendTransaction(t)),console.log("RESULT:",e),console.log("Notify",o),[1,3,4,5,42,100].indexOf(r.chainId)>=0){const{emitter:t}=o.hash(e.hash);t.on("all",e=>({onclick:()=>window.open((a||s)+e.hash)}))}else X.a.info({message:"Transaction Sent",description:e.hash,placement:"bottomRight"});return e}catch(c){console.log(c),console.log("Transaction Error:",c.message),X.a.error({message:"Transaction Error",description:c.message})}}}var te=a(872),ae=a.n(te),ne=a(2203),re=a(2199),fe=a(2196);function oe(e){return e.address&&"function"===typeof e.address.toLowerCase?r.a.createElement(j.a,Object.assign({seed:e.address.toLowerCase()},e)):r.a.createElement("span",null)}function ie(e){const[t,a]=Object(n.useState)(e.value),[f,o]=Object(n.useState)(!1),i="undefined"!==typeof e.value?e.value:t,s=Object(w.a)(e.ensProvider,i),c=r.a.createElement("div",{style:{marginTop:4,cursor:"pointer"},onClick:()=>{o(!f)}},r.a.createElement(re.a,{count:r.a.createElement(ne.a,{style:{fontSize:9}})},r.a.createElement(V.a,{style:{fontSize:18}}))," ","Scan"),{ensProvider:l,onChange:d}=e,u=Object(n.useCallback)(async e=>{if("undefined"!==typeof e){let n=e;if(n.indexOf(".eth")>0||n.indexOf(".xyz")>0)try{const e=await l.resolveName(n);e&&(n=e)}catch(t){}a(n),"function"===typeof d&&d(n)}},[l,d]),p=f?r.a.createElement("div",{style:{zIndex:256,position:"absolute",left:0,top:0,width:"100%"},onClick:()=>{o(!1)}},r.a.createElement(ae.a,{delay:250,resolution:1200,onError:e=>{console.log("SCAN ERROR",e),o(!1)},onScan:e=>{if(e){console.log("SCAN VALUE",e);let t=e;t.indexOf("/")>=0&&(t=t.substr(t.lastIndexOf("0x")),console.log("CLEANED VALUE",t)),o(!1),u(t)}},style:{width:"100%"}})):"";return r.a.createElement("div",null,p,r.a.createElement(fe.a,{autoComplete:"off",autoFocus:e.autoFocus,placeholder:e.placeholder?e.placeholder:"address",prefix:r.a.createElement(oe,{address:i,size:8,scale:3}),value:s||i,addonAfter:c,onChange:e=>{u(e.target.value)}}))}function se(e){const[t,a]=Object(n.useState)(e.price?"USD":"ETH"),[f,o]=Object(n.useState)(),[i,s]=Object(n.useState)(),c="undefined"!==typeof e.value?e.value:i,l=n=>e.price?r.a.createElement("div",{style:{cursor:"pointer"},onClick:()=>{if("USD"===t)a("ETH"),o(c);else if(a("USD"),c){const t=""+(parseFloat(c)*e.price).toFixed(2);o(t)}else o(c)}},n):"";let d,u;return"USD"===t?(d="$",u=l("USD \ud83d\udd00")):(d="\u039e",u=l("ETH \ud83d\udd00")),Object(n.useEffect)(()=>{c||o("")},[c]),r.a.createElement(fe.a,{placeholder:e.placeholder?e.placeholder:"amount in "+t,autoFocus:e.autoFocus,prefix:d,value:f,addonAfter:u,onChange:async a=>{const n=a.target.value;if("USD"===t){const t=parseFloat(n);if(t){const a=t/e.price;s(a),"function"===typeof e.onChange&&e.onChange(a),o(n)}else o(n)}else s(n),"function"===typeof e.onChange&&e.onChange(n),o(n)}})}var ce=a(59);const{Text:le,Paragraph:de}=U.a;function ue(e){const t=Object(w.d)(e.provider),a=e.address||t,[f,o]=Object(n.useState)(),[i,s]=Object(n.useState)(),[c,l]=Object(n.useState)(),[d,p]=Object(n.useState)(),[m,b]=Object(n.useState)(),h=e.provider?r.a.createElement(H.a,{title:"Wallet"},r.a.createElement(B.a,{onClick:()=>{o(!f)},rotate:-90,style:{padding:7,color:e.color?e.color:"",cursor:"pointer",fontSize:28,verticalAlign:"middle"}})):"";let y,E,g;if(i)y=r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(le,{copyable:!0},a)),r.a.createElement(Q.a,{value:a,size:"450",level:"H",includeMargin:!0,renderAs:"svg",imageSettings:{excavate:!1}})),E=r.a.createElement(u.a,{key:"hide",onClick:()=>{s("")}},r.a.createElement(V.a,null)," Hide"),g=r.a.createElement(u.a,{key:"hide",onClick:()=>{b(a),s("")}},r.a.createElement(J.a,null)," Private Key");else if(m){let t=localStorage.getItem("metaPrivateKey"),n=new ce.ethers.Wallet(t);if(n.address!==a)y=r.a.createElement("div",null,r.a.createElement("b",null,"*injected account*, private key unknown"));else{let a={},f=[];for(var v in a[n.address]=!0,f.push(r.a.createElement("div",{style:{fontSize:16,padding:2,backgroundStyle:"#89e789"}},r.a.createElement("a",{href:"/pk#"+t},r.a.createElement(M,{minimized:!0,address:n.address,ensProvider:e.ensProvider})," ",n.address.substr(0,6)))),localStorage)if(v.indexOf("metaPrivateKey_backup")>=0){console.log(v);let t=localStorage.getItem(v),n=new ce.ethers.Wallet(t);a[n.address]||(a[n.address]=!0,f.push(r.a.createElement("div",{style:{fontSize:16}},r.a.createElement("a",{href:"/pk#"+t},r.a.createElement(M,{minimized:!0,address:n.address,ensProvider:e.ensProvider})," ",n.address.substr(0,6)))))}y=r.a.createElement("div",null,r.a.createElement("b",null,"Private Key:"),r.a.createElement("div",null,r.a.createElement(le,{copyable:!0},t)),r.a.createElement("hr",null),r.a.createElement("i",null,"Point your camera phone at qr code to open in",r.a.createElement("a",{target:"_blank",href:"https://xdai.io/"+t,rel:"noopener noreferrer"},"burner wallet"),":"),r.a.createElement(Q.a,{value:"https://xdai.io/"+t,size:"450",level:"H",includeMargin:!0,renderAs:"svg",imageSettings:{excavate:!1}}),r.a.createElement(de,{style:{fontSize:"16"},copyable:!0},"https://xdai.io/"+t),f?r.a.createElement("div",null,r.a.createElement("h3",null,"Known Private Keys:"),f,r.a.createElement(u.a,{onClick:()=>{let e=window.localStorage.getItem("metaPrivateKey");e&&window.localStorage.setItem("metaPrivateKey_backup"+Date.now(),e);const t=ce.ethers.Wallet.createRandom()._signingKey().privateKey;window.localStorage.setItem("metaPrivateKey",t),window.location.reload()}},"Generate")):"")}E=r.a.createElement(u.a,{key:"receive",onClick:()=>{s(a),b("")}},r.a.createElement(V.a,null)," Receive"),g=r.a.createElement(u.a,{key:"hide",onClick:()=>{b(""),s("")}},r.a.createElement(J.a,null)," Hide")}else{const t={padding:10};y=r.a.createElement("div",null,r.a.createElement("div",{style:t},r.a.createElement(ie,{autoFocus:!0,ensProvider:e.ensProvider,placeholder:"to address",address:d,onChange:p})),r.a.createElement("div",{style:t},r.a.createElement(se,{price:e.price,value:c,onChange:e=>{l(e)}}))),E=r.a.createElement(u.a,{key:"receive",onClick:()=>{s(a),b("")}},r.a.createElement(V.a,null)," Receive"),g=r.a.createElement(u.a,{key:"hide",onClick:()=>{b(a),s("")}},r.a.createElement(J.a,null)," Private Key")}return r.a.createElement("span",null,h,r.a.createElement(G.a,{visible:f,title:r.a.createElement("div",null,a?r.a.createElement(M,{address:a,ensProvider:e.ensProvider}):r.a.createElement(K.a,null),r.a.createElement("div",{style:{float:"right",paddingRight:25}},r.a.createElement(q,{address:a,provider:e.provider,dollarMultiplier:e.price}))),onOk:()=>{s(),b(),o(!f)},onCancel:()=>{s(),b(),o(!f)},footer:[g,E,r.a.createElement(u.a,{key:"submit",type:"primary",disabled:!c||!d||i,loading:!1,onClick:()=>{const t=ee(e.provider);let a;try{a=Object(z.d)(""+c)}catch(n){a=Object(z.d)(""+parseFloat(c).toFixed(8))}t({to:d,value:a}),o(!f),s()}},r.a.createElement(Y.a,null)," Send")]},y))}function pe({address:e,provider:t,price:a,minimized:n,web3Modal:f,loadWeb3Modal:o,logoutOfWeb3Modal:i,blockExplorer:s}){const c=[];f&&(f.cachedProvider?c.push(r.a.createElement(u.a,{key:"logoutbutton",style:{verticalAlign:"top",marginLeft:8,marginTop:4},shape:"round",size:"large",onClick:i},"Logout")):c.push(r.a.createElement(u.a,{key:"loginbutton",style:{verticalAlign:"top",marginLeft:8,marginTop:4},shape:"round",size:"large",onClick:o},"Connect")));const{currentTheme:l}=Object(_.b)(),d=n?"":r.a.createElement("span",null,e?r.a.createElement(M,{address:e,ensProvider:t,blockExplorer:s}):"Connecting...",r.a.createElement(q,{address:e,provider:t,price:a}),r.a.createElement(ue,{address:e,provider:t,ensProvider:t,price:a,color:"light"===l?"#1890ff":"#2caad9"}));return r.a.createElement("div",null,d,c)}function me(e){const[t,a]=Object(n.useState)();let f;f=t&&"function"===typeof t.toLowerCase?r.a.createElement(j.a,{seed:t.toLowerCase(),size:8,scale:4}):r.a.createElement("div",null);const o=Object(w.a)(e.ensProvider,t),i=Object(n.useCallback)(async t=>{if("undefined"!==typeof t){let r=t;if(r.indexOf(".eth")>0||r.indexOf(".xyz")>0)try{const t=await e.ensProvider.resolveName(r);t&&(r=t)}catch(n){}a(r)}},[e.ensProvider]),s=ee(e.localProvider);return r.a.createElement("span",null,r.a.createElement(fe.a,{size:"large",placeholder:e.placeholder?e.placeholder:"local faucet",prefix:f,value:o||t,onChange:e=>{i(e.target.value)},suffix:r.a.createElement(H.a,{title:"Faucet: Send local ether to an address."},r.a.createElement(u.a,{onClick:()=>{s({to:t,value:Object(z.d)("0.01")}),a("")},shape:"circle",icon:r.a.createElement(Y.a,null)}),r.a.createElement(ue,{color:"#888888",provider:e.localProvider,ensProvider:e.ensProvider,price:e.price}))}))}function be(){return r.a.createElement("div",null,r.a.createElement("img",{className:"logo",src:"/train-pronostics-ui/OracleFactory.png",alt:"Oracle factory workshop"}))}var he=a(876),ye=a.n(he),Ee=a(877),ge=a.n(Ee),we=a(2195),ve=a(532),Se=a(67),Oe=a.n(Se),Ae=(a(2171),a(885)),Te=a.n(Ae);function xe({address:e,readProvider:t,writeProvider:a,contracts:f,tx:o}){const i=S(a),[s,c]=Object(n.useState)(""),[l,d]=Object(n.useState)(""),[p,m]=Object(n.useState)(""),[b,h]=Object(n.useState)(""),[y,E]=Object(n.useState)(""),[g,w]=Object(n.useState)(""),[v,O]=Object(n.useState)(""),[A,T]=Object(n.useState)(""),[x,N]=Object(n.useState)(""),[C,k]=Object(n.useState)("");let[D,R]=Object(n.useState)(!0),[j,U]=Object(n.useState)(!1),[F,_]=Object(n.useState)("#ffffff");const L={NO_SERVICE:"NO_SERVICE",REDUCED_SERVICE:"REDUCED_SERVICE",SIGNIFICANT_DELAYS:"SIGNIFICANT_DELAYS",DETOUR:"DETOUR",ADDITIONAL_SERVICE:"ADDITIONAL_SERVICE",MODIFIED_SERVICE:"MODIFIED_SERVICE",OTHER_EFFECT:"OTHER_EFFECT",UNKNOWN_EFFECT:"UNKNOWN_EFFECT",STOP_MOVED:"STOP_MOVED"},M=I(f,"TrainBetting","getNumberOfPlayers"),q=I(f,"TrainBetting","getAmountBetsOnTime"),B=I(f,"TrainBetting","getAmountBetsOnLate"),V=I(f,"TrainBetting","getDepartureTime"),J=I(f,"TrainBetting","getStatus"),Y=I(f,"TrainBetting","getTrainStatus"),H=ve.utils.getSignerFromPrivateKey(P,"e883403e293a6da931a43c8d2b5909bc8a463295fb46f33484a6d1350868f56d"),G=new ve.IExecOracleFactory(H,{ipfsGateway:"https://ipfs.infura.io"}),K=async()=>{fetch(`https://api.navitia.io/v1/journeys?from=stop_area:RAT:SA:STLAZ&to=stop_area:RAT:SA:GDLYO&datetime=${V}&data_freshness=realtime`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"3b036afe-0110-4202-b9ed-99718476c2e0"}}).then(e=>e.json()).then(e=>{Oe.a.tz.add("Europe/Paris|CET CEST CEMT|-10 -20 -30");let t=Oe()().tz("Europe/Berlin").format("YYYYMMDDTHHmmss"),a=Oe()(t).isAfter(e.journeys[0].arrival_date_time),n=e.journeys[0].status;(a||n===L[n])&&(R(!1),o(L[n]?i.TrainBetting.setTrainStatus("delay",{gasPrice:0,gasLimit:737679}):i.TrainBetting.setTrainStatus("arrive",{gasPrice:0,gasLimit:737679})))})},W=g?Oe()(g):"",Q=v?Oe()(v):"",Z=Q&&W?Oe.a.duration(Q.diff(W)):"";return Object(n.useEffect)(()=>{(async()=>{fetch(`https://api.navitia.io/v1/journeys?from=stop_area:RAT:SA:STLAZ&to=stop_area:RAT:SA:GDLYO&datetime=${V}&data_freshness=realtime`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"3b036afe-0110-4202-b9ed-99718476c2e0"}}).then(e=>e.json()).then(e=>{m(e.journeys[0].sections[0].from.name),d(e.journeys[0].sections[0].from.stop_area.codes[0].value),h(e.journeys[0].sections[1].to.stop_point.codes[0].value),E(e.journeys[0].sections[1].to.name),w(e.journeys[0].sections[0].departure_date_time),O(e.journeys[0].sections[1].arrival_date_time),k(e.journeys[0].sections[1].links[1].id),Oe.a.tz.add("Europe/Paris|CET CEST CEMT|-10 -20 -30");let t=Oe()().tz("Europe/Berlin").format("YYYYMMDDTHHmmss");Oe()(t).isAfter(e.journeys[0].arrival_date_time)&&R(!1)})})()}),r.a.createElement("div",{className:"container",style:{width:"70%"}},r.a.createElement(Te.a,{color:F,loading:j,size:15}," ",r.a.createElement("span",{className:"trip-locations"},"Loading... ")," "),r.a.createElement("div",{className:"container-table row-fluid"},r.a.createElement("div",{className:"span4 flight-column animated fadeInDown"},r.a.createElement("div",{className:"banner"},r.a.createElement("h3",{className:"firsttitle"},"Sncf Pronostics"),r.a.createElement("div",{className:"status"},"Status: ",Y?Y.toString().toUpperCase():r.a.createElement("p",null)),r.a.createElement("div",{className:"status"},j?"":r.a.createElement(u.a,{className:"statusbutton",style:{width:"180px",height:"30px"},onClick:K},"Update Status"))),r.a.createElement("div",{className:"flightResults-wrapper"},r.a.createElement("div",{className:"card shadow-none flight-card-lg"},r.a.createElement("div",{className:"row border-bottom pb-1"},r.a.createElement("div",{className:"col-12 d-flex inline justify-content-between"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("span",{className:"trip-locations"}," ",p," to ",y)),r.a.createElement("div",{className:"price text-primary d-flex  align-items-center"},"close"===J?r.a.createElement(u.a,{className:"button-ps",style:{width:"250px"},onClick:async()=>{U(!0),G.updateOracle("QmZwEyu2gvTMydqq5QGQJDtsKpragn8tuiWbe8jMZmQBHi",{workerpool:"0xAd0b7eFEc0ABF34421B668ea7bCadaC12Dd97541"}).subscribe({error:e=>console.error(e),next:e=>{const{message:t,...a}=e;console.log(t),console.info(JSON.stringify(a))},complete:()=>{console.log("Update task completed!"),"active"!==J?(o(i.TrainBetting.distributePrizes({gasPrice:0,gasLimit:737679})),R(!0),U(!1)):(U(!1),X.a.info({message:"Flight Still Scheduled",description:"wait until the flight has departed or canceled",placement:"bottomRight"}))}})}},"Claim Prize"):""))),r.a.createElement("div",{className:"row border-bottom mt-3 pb-3"},r.a.createElement("div",{className:"col-3 d-flex flex-column"},r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement("span",{className:"time"},"Departure")),r.a.createElement("span",{className:"time"},g?Oe()(g).format("HH:mm:ss"):""),r.a.createElement("div",{className:"date"},g?Oe()(g).format("DD"):"","/",g?Oe()(g).format("MM"):"","/",g?Oe()(g).format("YYYY"):""),r.a.createElement("div",{className:"location-details"},l)),r.a.createElement("div",{className:"col-6 middle-col"},r.a.createElement("img",{src:ge.a,className:"height-45",alt:"plane"}),r.a.createElement("div",{className:"detail-text mt-1"},"Duration: ",Z?Z.asMinutes():""," minutes "),r.a.createElement("img",{src:ye.a,className:"horizontal-divider height-45",alt:"divider"}),r.a.createElement("div",{className:"detail-text"},C)),r.a.createElement("div",{className:"col-3 d-flex flex-column"},r.a.createElement("div",{className:"d-flex justify-content-start"},r.a.createElement("span",{className:"time"},"Arrival")),r.a.createElement("span",{className:"time"},v?Oe()(v).format("HH:mm:ss"):""),r.a.createElement("div",{className:"date"},v?Oe()(v).format("DD"):"","/",v?Oe()(v).format("MM"):"","/",v?Oe()(v).format("YYYY"):""),r.a.createElement("div",{className:"location-details"},b))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 d-flex justify-content-center"},r.a.createElement(we.a,{className:"inputbet",style:{outline:"none",boxshadow:"2px 0px 5px #FFD90F"},onChange:e=>{c(e)},value:s,type:"number",min:"0.000001",placeholder:"Minimum: 0.001 xRLC"}))),r.a.createElement("div",{className:"row",style:{marginTop:20}},r.a.createElement("div",{className:"col-12 d-flex justify-content-center"},D?r.a.createElement(u.a,{className:"action bet",style:{width:"300px"},onClick:async()=>{if(s){const e=Object(z.d)(s.toString());o(i.TrainBetting.bet(1,{gasPrice:0,gasLimit:737679,value:e}))}else X.a.info({message:"Put in some xRLC",description:"Enter a valid input",placement:"bottomRight"})}},"I believe the train will be on time"):j?"":r.a.createElement(u.a,{className:"action bet",style:{width:"300px"},onClick:K},"Click to Update Status")),r.a.createElement("div",{className:"col-12 d-flex justify-content-center",style:{marginTop:20}},D?r.a.createElement(u.a,{className:"action bet",style:{width:"300px"},onClick:async()=>{if(s){const e=Object(z.d)(s.toString());o(i.TrainBetting.bet(2,{gasPrice:0,gasLimit:737679,value:e}))}else X.a.info({message:"Put in some xRLC",description:"Enter a valid input",placement:"bottomRight"})}},"I believe the train will be delayed or late!"):""),r.a.createElement("div",{className:"col-12 d-flex justify-content-center",style:{marginTop:20}},r.a.createElement("span",{className:"trip-locations"}," ","Number of Players:"," ",M?M.toNumber():0)),r.a.createElement("div",{className:"col-12 d-flex justify-content-center",style:{marginTop:20}},r.a.createElement("span",{className:"trip-locations"},"Amount for Train Arrived On Time:",q?Object(z.b)(q):0," ","xRLC"," ")),r.a.createElement("div",{className:"col-12 d-flex justify-content-center",style:{marginTop:20}},r.a.createElement("span",{className:"trip-locations"},"Amount for Train Delayed or Late:",B?Object(z.b)(B):0," ","xRLC"," "))))))))}const Ne=C.iExecSidechain,Pe=Ne.blockExplorer,Ce=new c.a(Ne.rpcUrl);const ke=new y.a({cacheProvider:!0,providerOptions:{walletconnect:{package:g.a,options:{infuraId:x}}}}),Ie=async()=>{await ke.clearCachedProvider(),setTimeout(()=>{window.location.reload()},1)};window.ethereum&&window.ethereum.on("chainChanged",e=>{setTimeout(()=>{window.location.reload()},1)});var De=function(e){var t;const[a,f]=Object(n.useState)(),o=(function(e,t){const[a,r]=Object(n.useState)();Object(w.b)(async()=>{e.gasPrice?r(e.gasPrice):T.a.get("https://ethgasstation.info/json/ethgasAPI.json").then(e=>{const n=1e8*e.data[t||"fast"];n!==a&&r(n)}).catch(e=>console.log(e))},39999)}(Ne,"fast"),Object(w.d)(a));let c=null===a||void 0===a||null===(t=a._network)||void 0===t?void 0:t.chainId,h=null===Ne||void 0===Ne?void 0:Ne.chainId;const y=ee(a),E=ee(a),g=function(e,t,a){const[r,f]=Object(n.useState)();return k(async()=>{if(t&&e){const a=await e.getBalance(t);a!==r&&f(a)}},27777,t&&e),r}(a,o),v=S(Ce);let O="";var A,x;O=null!==Ne&&void 0!==Ne&&Ne.chainId&&c&&Ne.chainId!==c?r.a.createElement("div",{style:{zIndex:2,position:"absolute",right:0,top:60,padding:16}},r.a.createElement(d.a,{message:"\u26a0\ufe0f Wrong Network",description:r.a.createElement("div",null,"You have"," ",r.a.createElement("b",null,null===(A=N(c))||void 0===A?void 0:A.name,"(",c,")")," ","selected and you need to be on"," ",r.a.createElement("b",null,null===(x=N(null===Ne||void 0===Ne?void 0:Ne.chainId))||void 0===x?void 0:x.name," (",h,")"),"."),type:"error",closable:!1})):r.a.createElement("div",{style:{zIndex:-1,position:"absolute",right:154,top:28,padding:16,color:Ne.color}},Ne.name);const P=Object(n.useCallback)(async()=>{const e=await ke.connect();f(new l.a(e))},[f]);Object(n.useEffect)(()=>{ke.cachedProvider&&P()},[P]);const[C,I]=Object(n.useState)();Object(n.useEffect)(()=>{I(window.location.pathname)},[I]);let D="";const R=a&&a.connection&&"localhost"===Ne.name,[j,U]=Object(n.useState)(!1);return!j&&a&&a._network&&31337===a._network.chainId&&g&&Object(z.b)(g)<=0&&(D=r.a.createElement("div",{style:{padding:16}},r.a.createElement(u.a,{type:"primary",onClick:()=>{E({to:o,value:Object(z.d)("0.01")}),U(!0)}},r.a.createElement("span",{role:"img","aria-label":"funds"},"\ud83d\udcb0")," Grab funds from the faucet ",r.a.createElement("span",{role:"img","aria-label":"gas"},"\u26fd\ufe0f")))),r.a.createElement("div",{className:"App"},r.a.createElement(be,null),O,r.a.createElement(i.a,null,r.a.createElement(p.a,{style:{textAlign:"center"},selectedKeys:[C],mode:"horizontal"},r.a.createElement(p.a.Item,{key:"/"},r.a.createElement(i.b,{onClick:()=>{I("/")},to:"/"}))),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/train-pronostics-ui"},o?r.a.createElement(xe,{address:o,readProvider:Ce,writeProvider:a,contracts:v,tx:y}):r.a.createElement("div",{style:{marginTop:"30px"}},"Connect your wallet to use the Dapp!")))),r.a.createElement("div",{style:{position:"fixed",textAlign:"right",right:0,top:0,padding:10}},r.a.createElement(pe,{address:o,provider:a,web3Modal:ke,loadWeb3Modal:P,logoutOfWeb3Modal:Ie,blockExplorer:Pe}),D),r.a.createElement("div",{style:{position:"fixed",textAlign:"left",left:0,bottom:20,padding:10}},r.a.createElement(m.a,{align:"middle",gutter:[4,4]},r.a.createElement(b.a,{span:24},R?r.a.createElement(me,{localProvider:a}):""))))};const Re={dark:"/train-pronostics-ui/dark-theme.css",light:"/train-pronostics-ui/light-theme.css"},je=window.localStorage.getItem("theme");o.a.render(r.a.createElement(_.a,{themeMap:Re,defaultTheme:je||"light"},r.a.createElement(De,null)),document.getElementById("root"))},304:function(e,t,a){"use strict";const n={133:{ORACLE_APP_ADDRESS:"0xb9b56F1C78F39504263835342e7afFE96536d1eA",ORACLE_CONTRACT_ADDRESS:"0x8ecEDdd1377E52d23A46E2bd3dF0aFE35B526D5F"}};e.exports={API_KEY_PLACEHOLDER:"%API_KEY%",DEFAULT_IPFS_GATEWAY:"https://ipfs.io",getDefaults:e=>{const t=n[e];if(!t)throw Error("Unsupported chain ".concat(e));return t}}},472:function(e,t){},525:function(e,t,a){"use strict";const{string:n,object:r,array:f,ValidationError:o}=a(367),{getAddress:i}=a(59).utils,s=a(857),{API_KEY_PLACEHOLDER:c}=a(304),l=(e,t)=>{if(t.length<=0)return e.length+1;let a=0,n=0;for(;n>-1;)n=e.indexOf(t,n),n>=0&&(a+=1,n+=1);return a},d=()=>n().test("is-url-allow-placeholder","${path} must be a valid url",async e=>{try{const t=e||"";return await n().url().validate(t.replace(c,"API_KEY_PLACEHOLDER")),!0}catch(t){return!1}}).test("is-https","${path} is not https",e=>!e||0===e.indexOf("https://")),u=()=>n().oneOf(["GET","POST","PUT","DELETE"]),p=()=>n().default(""),m=()=>r().default({}).test("values-are-strings","${path} is not a valid header list",async e=>{try{return await f().transform((e,t)=>Object.values(t)).of(n().required()).validate(e),!0}catch(t){return!1}}),b=()=>n().default("0x0000000000000000000000000000000000000000").test("is-address","${path} is not a valid ethereum address",e=>{try{return e&&i(e),!0}catch(t){return!1}}),h=()=>n().test("is-jsonpath","${originalValue} is not a valid JSONPath",e=>{if(e)try{s.parse(e)}catch(t){return!1}return!0}),y=()=>n().oneOf(["boolean","number","string"]),E=()=>r({url:d().required(),method:u().required(),headers:m(),body:p()}).noUnknown(!0),g=()=>r().test("is-params-set","${originalValue} is not a valid paramSet",async(e,t)=>{try{return e&&""===e.body?await r({url:d().required(),method:u().required(),headers:m().required(),body:p(),JSONPath:h().required(),dataType:y().required(),dataset:b().required()}).required().strict().noUnknown(!0).validate(e):await r({url:d().required(),method:u().required(),headers:m().required(),body:p().required(),JSONPath:h().required(),dataType:y().required(),dataset:b().required()}).required().strict().noUnknown(!0).validate(e),!0}catch(a){return t.createError({message:a.message})}}).test("no-multiple-apikey","Found multiple ".concat(c," occurences in API call parameters, it must have at most one occurrence"),(e,t)=>{const{url:a,headers:n}=t.originalValue;return l(JSON.stringify({url:a,headers:n}),c)<=1}).test("dataset-provided-when-needed","Using ".concat(c," placeholder but no dataset provided"),(e,t)=>{const{url:a,headers:n,dataset:r}=t.originalValue;return!(l(JSON.stringify({url:a,headers:n}),c)>=1&&(!r||"0x0000000000000000000000000000000000000000"===r))}).test("no-unused-dataset","Provided dataset but no ".concat(c," placeholder found in url or headers"),(e,t)=>{const{url:a,headers:n,dataset:r}=t.originalValue;return!(r&&"0x0000000000000000000000000000000000000000"!==r&&0===l(JSON.stringify({url:a,headers:n}),c))});e.exports={callParamsSchema:E,rawParamsSchema:()=>E().shape({JSONPath:h().required(),dataType:y().required(),apiKey:n()}).test("no-multiple-apikey","Found multiple ".concat(c," occurences in API call parameters, it must have at most one occurrence"),(e,t)=>{const{url:a,headers:n}=t.originalValue;return l(JSON.stringify({url:a,headers:n}),c)<=1}).test("apikey-provided-when-needed","Using ".concat(c," placeholder but no apiKey provided"),(e,t)=>{const{url:a,headers:n,apiKey:r}=t.originalValue;return!(l(JSON.stringify({url:a,headers:n}),c)>=1&&!r)}).test("no-unused-apikey","Provided apiKey but no ".concat(c," placeholder found in url or headers"),(e,t)=>{const{url:a,headers:n,apiKey:r}=t.originalValue;return!(r&&0===l(JSON.stringify({url:a,headers:n}),c))}).noUnknown(!0),paramSetSchema:()=>E().shape({JSONPath:h().required(),dataType:y().required(),dataset:b()}).test("no-multiple-apikey","Found multiple ".concat(c," occurences in API call parameters, it must have at most one occurrence"),(e,t)=>{const{url:a,headers:n}=t.originalValue;return l(JSON.stringify({url:a,headers:n}),c)<=1}).test("dataset-provided-when-needed","Using ".concat(c," placeholder but no dataset provided"),(e,t)=>{const{url:a,headers:n,dataset:r}=t.originalValue;return!(l(JSON.stringify({url:a,headers:n}),c)>=1&&(!r||"0x0000000000000000000000000000000000000000"===r))}).test("no-unused-dataset","Provided dataset but no ".concat(c," placeholder found in url or headers"),(e,t)=>{const{url:a,headers:n,dataset:r}=t.originalValue;return!(r&&"0x0000000000000000000000000000000000000000"!==r&&0===l(JSON.stringify({url:a,headers:n}),c))}).noUnknown(!0),strictCallParamsSchema:()=>r().test("is-call-params","${originalValue} is not a valid callParams",async(e,t)=>{try{return e&&""===e.body?await r({url:d().required(),method:u().required(),headers:m().required(),body:p()}).required().strict().noUnknown(!0).validate(e):await r({url:d().required(),method:u().required(),headers:m().required(),body:p().required()}).required().strict().noUnknown(!0).validate(e),!0}catch(a){return t.createError({message:a.message})}}),strictParamSetSchema:g,jsonParamSetSchema:()=>n().strict().required().test("is-json","${originalValue} is not a valid JSON",e=>{try{return JSON.parse(e),!0}catch(t){return!1}}).test("is-params-set","${originalValue} is not a valid paramSet",async(e,t)=>{try{const t=JSON.parse(e);return await g().validate(t),!0}catch(a){return t.createError({message:"".concat(t.originalValue," is not a valid paramSet (").concat(a.message,")")})}}),readDataTypeSchema:()=>n().oneOf(["boolean","number","string","raw"],"dataType read option must be one of the following values: ${values}").required(),throwIfMissing:()=>{throw new o("Missing parameter")}}},532:function(e,t,a){"use strict";const n=a(1303),r=a(2169),f=a(856);e.exports={IExecOracleFactory:n,utils:r,errors:f}},654:function(e,t,a){var n={"./TrainBetting.abi.js":1265};function r(e){var t=f(e);return a(t)}function f(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=f,e.exports=r,r.id=654},655:function(e,t,a){var n={"./TrainBetting.bytecode.js":1266};function r(e){var t=f(e);return a(t)}function f(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=f,e.exports=r,r.id=655},700:function(e,t,a){"use strict";const{Buffer:n}=a(9),r=a(701),{Contract:f}=a(59),o=a(1465),{formatParamsJson:i,formatOracleGetInt:s}=a(855),{Observable:c,SafeObserver:l}=a(2168),{getDefaults:d,DEFAULT_IPFS_GATEWAY:u,API_KEY_PLACEHOLDER:p}=a(304),{WorkflowError:m,ValidationError:b,NoValueError:h}=a(856),{jsonParamSetSchema:y,paramSetSchema:E,rawParamsSchema:g,readDataTypeSchema:w,throwIfMissing:v}=a(525),{isOracleId:S,computeOracleId:O,computeCallId:A}=a(858),T=async e=>{let t,a,{paramSetOrCid:n,ipfsGateway:f=u}=e,s=!1;if(o.isCid(n)){const e=new r(n).toString(),i=(await o.get(e,{ipfsGateway:f}).catch(()=>{throw Error("Failed to load paramSetSet from CID ".concat(e))})).toString();try{a=await y().validate(i),t=JSON.parse(a),s=!0}catch(c){throw Error("Content associated to CID ".concat(e," is not a valid paramSet"))}}else t=await E().validate(n),a=await y().validate(i(t));return{paramSet:t,paramsJson:a,isUploaded:s}},x=[{inputs:[],name:"m_authorizedApp",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_authorizedDataset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_authorizedWorkerpool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_requiredtag",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_requiredtrust",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_oracleId",type:"bytes32"}],name:"getString",outputs:[{internalType:"string",name:"stringValue",type:"string"},{internalType:"uint256",name:"date",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_oracleId",type:"bytes32"}],name:"getRaw",outputs:[{internalType:"bytes",name:"bytesValue",type:"bytes"},{internalType:"uint256",name:"date",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_oracleId",type:"bytes32"}],name:"getInt",outputs:[{internalType:"int256",name:"intValue",type:"int256"},{internalType:"uint256",name:"date",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_oracleId",type:"bytes32"}],name:"getBool",outputs:[{internalType:"bool",name:"boolValue",type:"bool"},{internalType:"uint256",name:"date",type:"uint256"}],stateMutability:"view",type:"function"}];e.exports={getParamSet:T,createOracle:e=>{let{rawParams:t=v(),iexec:a=v(),ipfsGateway:r=u,oracleApp:f}=e;return new c(e=>{let s,h=!1;const w=new l(e);return w.unsub=()=>{h=!0,"function"===typeof s&&s()},(async()=>{try{const{JSONPath:e,url:b,method:S,headers:T,body:x,dataType:N,apiKey:P}=await g().validate(t);let C;if(-1!==JSON.stringify({url:b,headers:T}).indexOf(p)){const e=await A({url:b,method:S,headers:T,body:x});if(h)return;await new Promise((t,i)=>{s=(e=>{let{iexec:t=v(),apiKey:a=v(),callId:r=v(),ipfsGateway:f=u,oracleApp:i}=e;return new c(e=>{let s=!1;const c=new l(e);return c.unsub=()=>{s=!0},(async()=>{try{const{chainId:e}=await t.network.getNetwork();if(s)return;const l=i||d(e).ORACLE_APP_ADDRESS,u=t.dataset.generateEncryptionKey();c.next({message:"ENCRYPTION_KEY_CREATED",key:u});const p=JSON.stringify({apiKey:a,callId:r}),b=await t.dataset.encrypt(n.from(p,"utf8"),u).catch(e=>{throw new m("Failed to encrypt API key",e)});if(s)return;const h=await t.dataset.computeEncryptedFileChecksum(b).catch(e=>{throw new m("Failed to compute encrypted API key checksum",e)});if(s)return;c.next({message:"FILE_ENCRYPTED",encryptedFile:b,checksum:h});const y=await o.add(b,{ipfsGateway:f}).catch(e=>{throw new m("Failed to upload encrypted API key",e)});if(s)return;const E="/ipfs/".concat(y);c.next({message:"ENCRYPTED_FILE_UPLOADED",cid:y,multiaddr:E}),c.next({message:"DATASET_DEPLOYMENT_SIGN_TX_REQUEST"});const{address:g,txHash:w}=await t.dataset.deployDataset({owner:await t.wallet.getAddress(),name:"api-key",multiaddr:E,checksum:h}).catch(e=>{throw new m("Failed to deploy API key dataset",e)});if(s)return;if(c.next({message:"DATASET_DEPLOYMENT_SUCCESS",address:g,txHash:w}),c.next({message:"PUSH_SECRET_TO_SMS_SIGN_REQUEST"}),await t.dataset.pushDatasetSecret(g,u).catch(e=>{throw new m("Failed to push API key dataset's encryption key",e)}),s)return;c.next({message:"PUSH_SECRET_TO_SMS_SUCCESS"});const v=await t.order.createDatasetorder({dataset:g,tag:["tee"],apprestrict:l,volume:Number.MAX_SAFE_INTEGER-1}).catch(e=>{throw new m("Failed to create API key datasetorder's",e)});if(s)return;c.next({message:"DATASET_ORDER_SIGNATURE_SIGN_REQUEST",order:v});const S=await t.order.signDatasetorder(v).catch(e=>{throw new m("Failed to sign API key datasetorder's",e)});if(s)return;c.next({message:"DATASET_ORDER_SIGNATURE_SUCCESS",order:S}),c.next({message:"DATASET_ORDER_PUBLISH_SIGN_REQUEST",order:S});const O=await t.order.publishDatasetorder(S).catch(e=>{throw new m("Failed to publish API key datasetorder's",e)});if(s)return;c.next({message:"DATASET_ORDER_PUBLISH_SUCCESS",orderHash:O}),c.complete()}catch(e){if(s)return;e instanceof m?c.error(e):c.error(new m("API key dataset creation unexpected error",e))}})(),c.unsubscribe.bind(c)})})({iexec:a,apiKey:P,callId:e,ipfsGateway:r,oracleApp:f}).subscribe({error:e=>i(e),next:e=>{"DATASET_DEPLOYMENT_SUCCESS"===e.message&&(C=e.address),w.next(e)},complete:()=>t()})})}const k=await E().validate({JSONPath:e,url:b,method:S,headers:T,body:x,dataType:N,dataset:C}),I=await y().validate(i(k));if(h)return;w.next({message:"PARAM_SET_CREATED",paramSet:JSON.parse(I)});const D=await O(k);if(h)return;w.next({message:"ORACLE_ID_COMPUTED",oracleId:D});const R=await o.add(I,{ipfsGateway:r}).catch(e=>{throw new m("Failed to upload paramSet",e)});if(h)return;const j="/ipfs/".concat(R);w.next({message:"PARAM_SET_UPLOADED",cid:R,multiaddr:j}),w.complete()}catch(e){if(h)return;e instanceof m||e instanceof b?w.error(e):w.error(new m("Create oracle unexpected error",e))}})(),w.unsubscribe.bind(w)})},updateOracle:e=>{let{paramSetOrCid:t=v(),iexec:a=v(),workerpool:n,ipfsGateway:r=u,oracleApp:f,oracleContract:i}=e;return new c(e=>{let s,c=!1;const u=new l(e);return u.unsub=()=>{c=!0,"function"===typeof s&&s()},(async()=>{try{const{chainId:e}=await a.network.getNetwork();if(c)return;const l=f||d(e).ORACLE_APP_ADDRESS,p=i||d(e).ORACLE_CONTRACT_ADDRESS;let h;u.next({message:"ENSURE_PARAMS"});const{isUploaded:y,paramSet:E,paramsJson:g}=await T({paramSetOrCid:t,ipfsGateway:r}).catch(e=>{throw e instanceof b?e:new m("Failed to load paramSet",e)});if(c)return;if(y)h=t;else if(u.next({message:"ENSURE_PARAMS_UPLOAD"}),h=await o.add(g,{ipfsGateway:r}).catch(e=>{throw new m("Failed to upload paramSet",e)}),c)return;u.next({message:"ENSURE_PARAMS_SUCCESS",paramSet:E,cid:h}),u.next({message:"FETCH_APP_ORDER"});const w=E.dataset,v=await a.orderbook.fetchAppOrderbook(l,{minTag:["tee"],maxTag:["tee"],requester:await a.wallet.getAddress(),workerpool:n,dataset:w}).catch(e=>{throw new m("Failed to fetch apporder",e)});if(c)return;const S=v&&v.orders[0]&&v.orders[0].order;if(!S)throw new m("No apporder published");let O;if(u.next({message:"FETCH_APP_ORDER_SUCCESS",order:S}),w&&"0x0000000000000000000000000000000000000000"!==w){u.next({message:"FETCH_DATASET_ORDER"});const e=await a.orderbook.fetchDatasetOrderbook(w,{minTag:["tee"],maxTag:["tee"],requester:await a.wallet.getAddress(),workerpool:n,app:l}).catch(e=>{throw new m("Failed to fetch datasetorder",e)});if(c)return;if(O=e&&e.orders[0]&&e.orders[0].order,!O)throw new m("No datasetorder published");u.next({message:"FETCH_DATASET_ORDER_SUCCESS",order:O})}u.next({message:"FETCH_WORKERPOOL_ORDER"});const A=await a.orderbook.fetchWorkerpoolOrderbook({minTag:["tee"],requester:await a.wallet.getAddress(),workerpool:n,app:l,dataset:w}).catch(e=>{throw new m("Failed to fetch workerpoolorder",e)});if(c)return;const x=A&&A.orders[0]&&A.orders[0].order;if(!x)throw new m("No workerpoolorder published");u.next({message:"FETCH_WORKERPOOL_ORDER_SUCCESS",order:x});const N=await a.order.createRequestorder({app:l,category:x.category,dataset:w,workerpool:n,callback:p,appmaxprice:S.appprice,datasetmaxprice:O&&O.datasetprice,workerpoolmaxprice:x.workerpoolprice,tag:["tee"],params:{iexec_input_files:["".concat(r,"/ipfs/").concat(h)],iexec_developer_logger:!0}}).catch(e=>{throw new m("Failed to create requestorder",e)});if(c)return;u.next({message:"REQUEST_ORDER_SIGNATURE_SIGN_REQUEST",order:N});const P=await a.order.signRequestorder(N,{checkRequest:!1}).catch(e=>{throw new m("Failed to sign requestorder",e)});if(c)return;u.next({message:"REQUEST_ORDER_SIGNATURE_SUCCESS",order:N}),u.next({message:"MATCH_ORDERS_SIGN_TX_REQUEST",apporder:S,datasetorder:O,workerpoolorder:x,requestorder:P});const{dealid:C,txHash:k}=await a.order.matchOrders({apporder:S,datasetorder:O,workerpoolorder:x,requestorder:P},{checkRequest:!1}).catch(e=>{throw new m("Failed to match orders",e)});if(c)return;u.next({message:"MATCH_ORDERS_SUCCESS",dealid:C,txHash:k});const I=await a.deal.computeTaskId(C,0);if(c)return;const D=()=>new Promise((e,t)=>{a.task.obsTask(I,{dealid:C}).then(a=>{s=a.subscribe({next:a=>{const{message:n}=a;"TASK_TIMEDOUT"===n&&t(new m("Oracle update task timed out, update failed",Error("Task ".concat(I," from deal ").concat(C," timed out")))),"TASK_COMPLETED"===n&&e(),"TASK_UPDATED"===n&&u.next({message:"TASK_UPDATED",dealid:C,taskid:I,status:a.task&&a.task.statusName})},error:e=>t(new m("Failed to monitor oracle update task",e)),complete:()=>{}})})});await D(),u.next({message:"UPDATE_TASK_COMPLETED"}),u.complete()}catch(e){if(c)return;e instanceof m||e instanceof b?u.error(e):u.error(new m("Update oracle unexpected error",e))}})(),u.unsubscribe.bind(u)})},readOracle:async e=>{let{paramSetOrCidOrOracleId:t=v(),dataType:a,ethersProvider:n=v(),ipfsGateway:r=u,oracleContract:o}=e;const i=await n.getNetwork().then(e=>"".concat(e.chainId)),c=o||d(i).ORACLE_CONTRACT_ADDRESS;let l,p;if(S(t))p=t,l=await w().validate(void 0===a||""===a?"raw":a);else{if(a)throw Error("dataType option is only allowed when reading oracle from oracleId");const{paramSet:e}=await T({paramSetOrCid:t,ipfsGateway:r}).catch(e=>{throw e instanceof b?e:new m("Failed to load paramSet",e)});l=e.dataType,p=await O(e)}const y=new f(c,x,n),[E,g]=await y.getRaw(p).catch(()=>{throw Error("Failed to read value from oracle with oracleId ".concat(p))});if(g.isZero())throw new h("No value stored for oracleId ".concat(p));switch(l){case"boolean":{const[e,t]=await y.getBool(p).catch(()=>{throw Error("Failed to read boolean from oracle with oracleId ".concat(p,"\nThis may occure when:\n- No value is stored\n- Stored value is not boolean dataType"))});return{value:e,date:t.toNumber()}}case"number":{const[e,t]=await y.getInt(p).catch(()=>{throw Error("Failed to read number from oracle with oracleId ".concat(p,"\nThis may occure when:\n- No value is stored\n- Stored value is not number dataType"))});return{value:s(e),date:t.toNumber()}}case"string":{const[e,t]=await y.getString(p).catch(()=>{throw Error("Failed to read string from oracle with oracleId ".concat(p,"\nThis may occure when:\n- No value is stored\n- Stored value is not string dataType"))});return{value:e,date:t.toNumber()}}default:return{value:E,date:g.toNumber()}}}}},855:function(e,t,a){"use strict";const n=a(2167),r=e=>Object.keys(e).sort().reduce((t,a)=>("object"===typeof e[a]?t[a]=r(e[a]):t[a]=e[a],t),{});e.exports={sortObjKeys:r,formatParamsJson:e=>JSON.stringify(r(e)),formatOracleGetInt:e=>{const t=new n(e.toString()).times(new n("1e-18"));try{t.constructor.strict=!0;return t.toNumber()}catch(a){throw Error("Converting ".concat(t.toString()," to number will result in loosing precision"))}}}},856:function(e,t,a){"use strict";const{ValidationError:n}=a(367);class r extends Error{constructor(e,t){super(e),this.name=this.constructor.name,this.originalError=t}}class f extends Error{}e.exports={ValidationError:n,WorkflowError:r,NoValueError:f}},858:function(e,t,a){"use strict";const{solidityKeccak256:n}=a(59).utils,{strictParamSetSchema:r,strictCallParamsSchema:f}=a(525),{sortObjKeys:o}=a(855),i=/^(0x)([0-9a-f]{2}){32}$/,s=e=>{const t=o(e);return Object.entries(t)};e.exports={isOracleId:e=>"string"===typeof e&&i.test(e),computeOracleId:async e=>{const{JSONPath:t,body:a,dataType:f,dataset:o,headers:i,method:c,url:l}=await r().validate(e),d=s(i);return n(["string","string","string","address","string[][]","string","string"],[t,a,f,o,d,c,l])},computeCallId:async e=>{const{body:t,headers:a,method:r,url:o}=await f().validate(e),i=s(a);return n(["string","string[][]","string","string"],[t,i,r,o])}}},876:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANoAAAAICAYAAACf6+H/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFvSURBVHgB7dg9TwJBEAbgd5bjSylo7fgJR2eugtbGmBhr4h9AawvgF4iJNcZaC0o7aUBjA73NdbYUhA/FG2fvLhjCQbSfJyG3t7NbvpljCDGeeC5SdA1mN9wg6gLpFuV7PpRSOzFXiph/1sG4AKEo+RnBoE2Z/r2tU3hodlgCm2F4YJ0PZKoaNqV247k3lJC5mwW+pL2XtoneUndhyFJnQPZJfo+AKdtCCearAaXUVjzzamHI6ED60i2Q6wNOPSoaathuF3c0j8NNe2B1+wNYnMpzOQa/3UAplYzKx6C8i/SV9Kyj3/1FTfLzLgtTNWsXeJK8Vkr9HxVWSyfe6UmyKlhK43LO5V0OfHeiUsrpUhZNKKUS8TQ3loeLZSf+y2Xz8wAEQ1v2kXNG0aejnTgaPCcPQwIZhrz6UEptxVPPDhM3hyEBWrQ/aIafjlQYjEBBOeps9hbG0VpDptSfLDJVBCyjfPajDcmP4RMbMvv2A0lucpssPLqYAAAAAElFTkSuQmCC"},877:function(e,t){e.exports="data:image/png;base64,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"},881:function(e,t){},898:function(e,t,a){e.exports=a(2180)},903:function(e,t,a){},904:function(e,t,a){},906:function(e,t,a){},915:function(e,t){},956:function(e,t){},958:function(e,t){},968:function(e,t){},970:function(e,t){},996:function(e,t){},997:function(e,t){}},[[898,1,2]]]);
//# sourceMappingURL=main.5d0752e9.chunk.js.map